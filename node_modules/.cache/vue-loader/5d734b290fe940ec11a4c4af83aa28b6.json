{"remainingRequest":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\zhihu-app\\src\\views\\Recommoned.vue?vue&type=style&index=0&id=15c5fe37&lang=scss&scoped=true&","dependencies":[{"path":"F:\\zhihu-app\\src\\views\\Recommoned.vue","mtime":1580833638259},{"path":"F:\\zhihu-app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnItYm9keXsKCXdpZHRoOiBjYWxjKDEwMHZ3KTsKCWhlaWdodDogY2FsYygxMDB2aCk7CgliYWNrZ3JvdW5kLWNvbG9yOiAjRjZGNkY2OwoJbWFyZ2luLXRvcDogNTAlOwp9Cg=="},{"version":3,"sources":["Recommoned.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA","file":"Recommoned.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"r-body\">\r\n\t\t<div v-for=\"(item, index) in recommenedList\" :key=\"index\">\r\n\t\t\t<div>\r\n\t\t\t\t<h3 v-if=\"item.target.question == null\" class=\"m-2\">{{ item.target.title }}</h3>\r\n\t\t\t\t<h3 v-else class=\"m-2\">{{item.target.question.title }}</h3>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'recommoned',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trecommenedList: [],\r\n\t\t\t\tflags: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\twindow.addEventListener('scroll', this.scrollToTop);\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.axios.get('/api/recommend').then(res => {\r\n\t\t\t\tthis.recommenedList = res.data.data.data;\r\n\t\t\t\t//定义一个正则规则，用来处理富文本中的图片\r\n\t\t\t\tconst regex = new RegExp('<img', 'gi');\r\n\t\t\t\tfor (var i = 0; i < this.recommenedList.length; i++) {\r\n\t\t\t\t\t//给每篇文章添加一个标记，默认为false，表示未展开全文\r\n\t\t\t\t\tthis.flags.splice(i, 0, false);\r\n\t\t\t\t\t//将富文本中的图片处理大小\r\n\t\t\t\t\tthis.recommenedList[i].target.content = this.recommenedList[i].target.content.replace(regex, `<img style=\"max-width: 100%; height: auto\"`);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//展开、收起的切换\r\n\t\t\tchange(index) {\r\n\t\t\t\t//将flag数组索引为index的项置反，注意splice用法，不要直接给数组元素赋值（无法监听flag变化）\r\n\t\t\t\tthis.flags.splice(index, 1, !this.flags[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.r-body{\r\n\t\twidth: calc(100vw);\r\n\t\theight: calc(100vh);\r\n\t\tbackground-color: #F6F6F6;\r\n\t\tmargin-top: 50%;\r\n\t}\r\n</style>"]}]}