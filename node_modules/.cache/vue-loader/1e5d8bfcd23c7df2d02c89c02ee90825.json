{"remainingRequest":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\zhihu-app\\src\\views\\Recommoned.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\zhihu-app\\src\\views\\Recommoned.vue","mtime":1580833625951},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdyZWNvbW1vbmVkJywKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJcmVjb21tZW5lZExpc3Q6IFtdLAoJCQlmbGFnczogW10KCQl9OwoJfSwKCW1vdW50ZWQoKSB7CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsVG9Ub3ApOwoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5heGlvcy5nZXQoJy9hcGkvcmVjb21tZW5kJykudGhlbihyZXMgPT4gewoJCQl0aGlzLnJlY29tbWVuZWRMaXN0ID0gcmVzLmRhdGE7CgkJCS8v5a6a5LmJ5LiA5Liq5q2j5YiZ6KeE5YiZ77yM55So5p2l5aSE55CG5a+M5paH5pys5Lit55qE5Zu+54mHCgkJCWNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnPGltZycsICdnaScpOwoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVjb21tZW5lZExpc3QubGVuZ3RoOyBpKyspIHsKCQkJCS8v57uZ5q+P56+H5paH56ug5re75Yqg5LiA5Liq5qCH6K6w77yM6buY6K6k5Li6ZmFsc2XvvIzooajnpLrmnKrlsZXlvIDlhajmlocKCQkJCXRoaXMuZmxhZ3Muc3BsaWNlKGksIDAsIGZhbHNlKTsKCQkJCS8v5bCG5a+M5paH5pys5Lit55qE5Zu+54mH5aSE55CG5aSn5bCPCgkJCQl0aGlzLnJlY29tbWVuZWRMaXN0W2ldLnRhcmdldC5jb250ZW50ID0gdGhpcy5yZWNvbW1lbmVkTGlzdFtpXS50YXJnZXQuY29udGVudC5yZXBsYWNlKHJlZ2V4LCBgPGltZyBzdHlsZT0ibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG8iYCk7CgkJCX0KCQl9KTsKCX0sCgltZXRob2RzOiB7CgkJLy/lsZXlvIDjgIHmlLbotbfnmoTliIfmjaIKCQljaGFuZ2UoaW5kZXgpIHsKCQkJLy/lsIZmbGFn5pWw57uE57Si5byV5Li6aW5kZXjnmoTpobnnva7lj43vvIzms6jmhI9zcGxpY2XnlKjms5XvvIzkuI3opoHnm7TmjqXnu5nmlbDnu4TlhYPntKDotYvlgLzvvIjml6Dms5Xnm5HlkKxmbGFn5Y+Y5YyW77yJCgkJCXRoaXMuZmxhZ3Muc3BsaWNlKGluZGV4LCAxLCAhdGhpcy5mbGFnc1tpbmRleF0pOwoJCX0KCX0KfTsK"},{"version":3,"sources":["Recommoned.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recommoned.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"r-body\">\r\n\t\t<div v-for=\"(item, index) in recommenedList\" :key=\"index\">\r\n\t\t\t<div>\r\n\t\t\t\t<h3 v-if=\"item.target.question == null\" class=\"m-2\">{{ item.target.title }}</h3>\r\n\t\t\t\t<h3 v-else class=\"m-2\">{{item.target.question.title }}</h3>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'recommoned',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trecommenedList: [],\r\n\t\t\t\tflags: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\twindow.addEventListener('scroll', this.scrollToTop);\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.axios.get('/api/recommend').then(res => {\r\n\t\t\t\tthis.recommenedList = res.data;\r\n\t\t\t\t//定义一个正则规则，用来处理富文本中的图片\r\n\t\t\t\tconst regex = new RegExp('<img', 'gi');\r\n\t\t\t\tfor (var i = 0; i < this.recommenedList.length; i++) {\r\n\t\t\t\t\t//给每篇文章添加一个标记，默认为false，表示未展开全文\r\n\t\t\t\t\tthis.flags.splice(i, 0, false);\r\n\t\t\t\t\t//将富文本中的图片处理大小\r\n\t\t\t\t\tthis.recommenedList[i].target.content = this.recommenedList[i].target.content.replace(regex, `<img style=\"max-width: 100%; height: auto\"`);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//展开、收起的切换\r\n\t\t\tchange(index) {\r\n\t\t\t\t//将flag数组索引为index的项置反，注意splice用法，不要直接给数组元素赋值（无法监听flag变化）\r\n\t\t\t\tthis.flags.splice(index, 1, !this.flags[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.r-body{\r\n\t\twidth: calc(100vw);\r\n\t\theight: calc(100vh);\r\n\t\tbackground-color: #F6F6F6;\r\n\t\tmargin-top: 50%;\r\n\t}\r\n</style>"]}]}