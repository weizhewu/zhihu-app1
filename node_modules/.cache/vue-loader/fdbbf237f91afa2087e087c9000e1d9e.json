{"remainingRequest":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\zhihu-app\\src\\views\\Recommoned.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\zhihu-app\\src\\views\\Recommoned.vue","mtime":1580833638259},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdyZWNvbW1vbmVkJywKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJcmVjb21tZW5lZExpc3Q6IFtdLAoJCQlmbGFnczogW10KCQl9OwoJfSwKCW1vdW50ZWQoKSB7CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsVG9Ub3ApOwoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5heGlvcy5nZXQoJy9hcGkvcmVjb21tZW5kJykudGhlbihyZXMgPT4gewoJCQl0aGlzLnJlY29tbWVuZWRMaXN0ID0gcmVzLmRhdGEuZGF0YS5kYXRhOwoJCQkvL+WumuS5ieS4gOS4quato+WImeinhOWIme+8jOeUqOadpeWkhOeQhuWvjOaWh+acrOS4reeahOWbvueJhwoJCQljb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJzxpbWcnLCAnZ2knKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlY29tbWVuZWRMaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCQkvL+e7meavj+evh+aWh+eroOa3u+WKoOS4gOS4quagh+iusO+8jOm7mOiupOS4umZhbHNl77yM6KGo56S65pyq5bGV5byA5YWo5paHCgkJCQl0aGlzLmZsYWdzLnNwbGljZShpLCAwLCBmYWxzZSk7CgkJCQkvL+WwhuWvjOaWh+acrOS4reeahOWbvueJh+WkhOeQhuWkp+WwjwoJCQkJdGhpcy5yZWNvbW1lbmVkTGlzdFtpXS50YXJnZXQuY29udGVudCA9IHRoaXMucmVjb21tZW5lZExpc3RbaV0udGFyZ2V0LmNvbnRlbnQucmVwbGFjZShyZWdleCwgYDxpbWcgc3R5bGU9Im1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvImApOwoJCQl9CgkJfSk7Cgl9LAoJbWV0aG9kczogewoJCS8v5bGV5byA44CB5pS26LW355qE5YiH5o2iCgkJY2hhbmdlKGluZGV4KSB7CgkJCS8v5bCGZmxhZ+aVsOe7hOe0ouW8leS4umluZGV455qE6aG5572u5Y+N77yM5rOo5oSPc3BsaWNl55So5rOV77yM5LiN6KaB55u05o6l57uZ5pWw57uE5YWD57Sg6LWL5YC877yI5peg5rOV55uR5ZCsZmxhZ+WPmOWMlu+8iQoJCQl0aGlzLmZsYWdzLnNwbGljZShpbmRleCwgMSwgIXRoaXMuZmxhZ3NbaW5kZXhdKTsKCQl9Cgl9Cn07Cg=="},{"version":3,"sources":["Recommoned.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recommoned.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"r-body\">\r\n\t\t<div v-for=\"(item, index) in recommenedList\" :key=\"index\">\r\n\t\t\t<div>\r\n\t\t\t\t<h3 v-if=\"item.target.question == null\" class=\"m-2\">{{ item.target.title }}</h3>\r\n\t\t\t\t<h3 v-else class=\"m-2\">{{item.target.question.title }}</h3>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'recommoned',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trecommenedList: [],\r\n\t\t\t\tflags: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\twindow.addEventListener('scroll', this.scrollToTop);\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.axios.get('/api/recommend').then(res => {\r\n\t\t\t\tthis.recommenedList = res.data.data.data;\r\n\t\t\t\t//定义一个正则规则，用来处理富文本中的图片\r\n\t\t\t\tconst regex = new RegExp('<img', 'gi');\r\n\t\t\t\tfor (var i = 0; i < this.recommenedList.length; i++) {\r\n\t\t\t\t\t//给每篇文章添加一个标记，默认为false，表示未展开全文\r\n\t\t\t\t\tthis.flags.splice(i, 0, false);\r\n\t\t\t\t\t//将富文本中的图片处理大小\r\n\t\t\t\t\tthis.recommenedList[i].target.content = this.recommenedList[i].target.content.replace(regex, `<img style=\"max-width: 100%; height: auto\"`);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//展开、收起的切换\r\n\t\t\tchange(index) {\r\n\t\t\t\t//将flag数组索引为index的项置反，注意splice用法，不要直接给数组元素赋值（无法监听flag变化）\r\n\t\t\t\tthis.flags.splice(index, 1, !this.flags[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.r-body{\r\n\t\twidth: calc(100vw);\r\n\t\theight: calc(100vh);\r\n\t\tbackground-color: #F6F6F6;\r\n\t\tmargin-top: 50%;\r\n\t}\r\n</style>"]}]}