{"remainingRequest":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\zhihu-app\\src\\views\\Recommoned.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\zhihu-app\\src\\views\\Recommoned.vue","mtime":1580917971203},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdyZWNvbW1vbmVkJywKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJcmVjb21tZW5lZExpc3Q6IFtdLAoJCQlmbGFnczogW10KCQl9OwoJfSwKCW1vdW50ZWQoKSB7CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsVG9Ub3ApOwoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5heGlvcy5nZXQoJy9hcGkvcmVjb21tZW5kJykudGhlbihyZXMgPT4gewoJCQl0aGlzLnJlY29tbWVuZWRMaXN0ID0gcmVzLmRhdGEuZGF0YS5kYXRhOwoJCQkvL+WumuS5ieS4gOS4quato+WImeinhOWIme+8jOeUqOadpeWkhOeQhuWvjOaWh+acrOS4reeahOWbvueJhwoJCQljb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJzxpbWcnLCAnZ2knKTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlY29tbWVuZWRMaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCQkvL+e7meavj+evh+aWh+eroOa3u+WKoOS4gOS4quagh+iusO+8jOm7mOiupOS4umZhbHNl77yM6KGo56S65pyq5bGV5byA5YWo5paHCgkJCQl0aGlzLmZsYWdzLnNwbGljZShpLCAwLCBmYWxzZSk7CgkJCQkvL+WwhuWvjOaWh+acrOS4reeahOWbvueJh+WkhOeQhuWkp+WwjwoJCQkJdGhpcy5yZWNvbW1lbmVkTGlzdFtpXS50YXJnZXQuY29udGVudCA9IHRoaXMucmVjb21tZW5lZExpc3RbaV0udGFyZ2V0LmNvbnRlbnQucmVwbGFjZShyZWdleCwgYDxpbWcgc3R5bGU9Im1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvImApOwoJCQl9CgkJfSk7Cgl9LAoJbWV0aG9kczogewoJCS8v5bGV5byA44CB5pS26LW355qE5YiH5o2iCgkJY2hhbmdlKGluZGV4KSB7CgkJCS8v5bCGZmxhZ+aVsOe7hOe0ouW8leS4umluZGV455qE6aG5572u5Y+N77yM5rOo5oSPc3BsaWNl55So5rOV77yM5LiN6KaB55u05o6l57uZ5pWw57uE5YWD57Sg6LWL5YC877yI5peg5rOV55uR5ZCsZmxhZ+WPmOWMlu+8iQoJCQl0aGlzLmZsYWdzLnNwbGljZShpbmRleCwgMSwgIXRoaXMuZmxhZ3NbaW5kZXhdKTsKCQl9Cgl9Cn07Cg=="},{"version":3,"sources":["Recommoned.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recommoned.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"r-body\">\r\n\t\t<div v-for=\"(item, index) in recommenedList\" :key=\"index\">\r\n\t\t\t<div class=\"r-div\">\r\n\t\t\t\t<h3 v-if=\"item.target.question == null\" class=\"r-div-title\">{{ item.target.title }}</h3>\r\n\t\t\t\t<h3 v-else class=\"r-div-title\">{{item.target.question.title }}</h3>\r\n\t\t\t\t<div v-if=\"!flags[index]\">\r\n\t\t\t\t\t<div class=\"\" style=\"display: flex;\" v-if=\"item.target.thumbnail\">\r\n\t\t\t\t\t\t<div class=\"r-div-img\"><img :src=\"item.target.thumbnail\" class=\"fill tiny-round\" width=\"192px\" height=\"100px\" /></div>\r\n\t\t\t\t\t\t<div class=\"r-div-content\">\r\n\t\t\t\t\t\t\t<p class=\"r-div-content-p\">{{ item.target.author.name }}:{{ item.target.excerpt }}</p>\r\n\t\t\t\t\t\t\t<span class=\" \" @click=\"change(index)\">\r\n\t\t\t\t\t\t\t\t<span class=\"\" style=\"color: deepskyblue;\">阅读全文</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"display: flex;\" v-else>\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<p class=\"r-div-content-p\">{{ item.target.author.name }}:{{ item.target.excerpt }}</p>\r\n\t\t\t\t\t\t\t<span class=\" \" @click=\"change(index)\">\r\n\t\t\t\t\t\t\t\t<span class=\"\" style=\"color: deepskyblue;\">阅读全文</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"flags[index]\" class=\"p-2\">\r\n\t\t\t\t\t<div class=\"d-inline-flex\">\r\n\t\t\t\t\t\t<img :src=\"item.target.author.avatar_url\" class=\"avatar mr-2\" />\r\n\t\t\t\t\t\t<h4 class=\"mr-2\">{{ item.target.author.name }}</h4>\r\n\t\t\t\t\t\t<span>{{ item.target.author.headline }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p class=\"light-grey mt-2 mb-2\">{{ item.target.voteup_count }}人赞同了该回答</p>\r\n\t\t\t\t\t<div v-html=\"item.target.content\" class=\"content\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<ul class=\"r-div-bottom sticky-bar\" :class=\"{ active: flags[index] }\">\r\n\t\t\t\t\t<button class=\"r-div-bottom-btn\">\r\n\t\t\t\t\t\t赞同{{ item.target.voteup_count }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<li class=\"f-dark r-div-bottom-li\">\r\n\t\t\t\t\t\t<svg class=\"r-div-bottom-logo-dark \" viewBox=\"0 0 24 24\" width=\"1.2em\" height=\"1.2em\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z\"\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t{{ item.target.comment_count}}条评论\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"f-dark r-div-bottom-li\">\r\n\t\t\t\t\t\t<svg class=\"r-div-bottom-logo-dark\" viewBox=\"0 0 24 24\" width=\"1.2em\" height=\"1.2em\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z\"\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t分享\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"f-dark r-div-bottom-li\">\r\n\t\t\t\t\t\t<svg class=\"r-div-bottom-logo-dark\" viewBox=\"0 0 24 24\" width=\"1.2em\" height=\"1.2em\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z\"\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t收藏\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"f-dark r-div-bottom-li\">\r\n\t\t\t\t\t\t<svg class=\"r-div-bottom-logo-dark\" viewBox=\"0 0 24 24\" width=\"1.2em\" height=\"1.2em\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545 3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z\"\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t喜欢\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"f-dark r-div-bottom-li  \" @click=\"change(index)\" v-if=\"flags[index]\">\r\n\t\t\t\t\t\t<svg class=\"grey-icon up\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M12 13L8.285 9.218a.758.758 0 0 0-1.064 0 .738.738 0 0 0 0 1.052l4.249 4.512a.758.758 0 0 0 1.064 0l4.246-4.512a.738.738 0 0 0 0-1.052.757.757 0 0 0-1.063 0L12.002 13z\"\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t收起\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: 'recommoned',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trecommenedList: [],\r\n\t\t\t\tflags: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\twindow.addEventListener('scroll', this.scrollToTop);\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.axios.get('/api/recommend').then(res => {\r\n\t\t\t\tthis.recommenedList = res.data.data.data;\r\n\t\t\t\t//定义一个正则规则，用来处理富文本中的图片\r\n\t\t\t\tconst regex = new RegExp('<img', 'gi');\r\n\t\t\t\tfor (var i = 0; i < this.recommenedList.length; i++) {\r\n\t\t\t\t\t//给每篇文章添加一个标记，默认为false，表示未展开全文\r\n\t\t\t\t\tthis.flags.splice(i, 0, false);\r\n\t\t\t\t\t//将富文本中的图片处理大小\r\n\t\t\t\t\tthis.recommenedList[i].target.content = this.recommenedList[i].target.content.replace(regex, `<img style=\"max-width: 100%; height: auto\"`);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//展开、收起的切换\r\n\t\t\tchange(index) {\r\n\t\t\t\t//将flag数组索引为index的项置反，注意splice用法，不要直接给数组元素赋值（无法监听flag变化）\r\n\t\t\t\tthis.flags.splice(index, 1, !this.flags[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.r-body{\r\n\t\twidth: 693px;\r\n\t\theight: 6000px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\t.r-div{\r\n\t\t\tborder-top:1px solid #F6F6F6;\r\n\t\t\tpadding: 0 15px;\r\n\t\t\tborder-radius: 10px;\r\n\t\t\theight: 220px;\r\n\t\t\t.r-div-title{\r\n\t\t\t\tmargin-top: 20px;\r\n\t\t\t}\r\n\t\t\t.r-div-img{\r\n\t\t\t\tmargin-top: 15px;\r\n\t\t\t}\r\n\t\t\t.r-div-content{\r\n\t\t\t\tmargin-top: 12px;\r\n\t\t\t\tmargin-left: 5px;\r\n\t\t\t\t.r-div-content-p{\r\n\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t-webkit-line-clamp: 4;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tfont-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif;\r\n\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\tcolor: #1a1a1a;\r\n\t\t\t\t\t-webkit-tap-highlight-color: rgba(26,26,26,0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.r-div-bottom{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tmargin-top: 15px;\r\n\t\t\t\t.r-div-bottom-btn{\r\n\t\t\t\t\tbackground-color: #e5f2ff;\r\n\t\t\t\t\tcolor: #0084ff;\r\n\t\t\t\t\twidth: 100px;\r\n\t\t\t\t\tborder-radius:2px;\r\n\t\t\t\t}\r\n\t\t\t\t.r-div-bottom-logo{\r\n\t\t\t\t\tfill: #0084ff;\r\n\t\t\t\t\tmargin-left: 30px;\r\n\t\t\t\t}\r\n\t\t\t\t.r-div-bottom-logo-dark{\r\n\t\t\t\t\tfill: #8590a6;\r\n\t\t\t\t}\r\n\t\t\t\t.r-div-bottom-li{\r\n\t\t\t\t\tmargin-left: 30px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.sticky-bar {\r\n\t\tposition: sticky;\r\n\t\tbottom: 0;\r\n\t\tz-index: 1000;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.active {\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n</style>"]}]}