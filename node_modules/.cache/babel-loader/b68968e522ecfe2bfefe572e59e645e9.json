{"remainingRequest":"F:\\zhihu-app\\node_modules\\babel-loader\\lib\\index.js!F:\\zhihu-app\\src\\util\\rgbaster.js","dependencies":[{"path":"F:\\zhihu-app\\src\\util\\rgbaster.js","mtime":1580623365000},{"path":"F:\\zhihu-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\zhihu-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSIpOwoKOwoKKGZ1bmN0aW9uICh3aW5kb3csIHVuZGVmaW5lZCkgewogICJ1c2Ugc3RyaWN0IjsgLy8gSGVscGVyIGZ1bmN0aW9ucy4KCiAgdmFyIGdldENvbnRleHQgPSBmdW5jdGlvbiBnZXRDb250ZXh0KHdpZHRoLCBoZWlnaHQpIHsKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpOwogICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTsKICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICB9OwoKICB2YXIgZ2V0SW1hZ2VEYXRhID0gZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKGltZywgbG9hZGVkKSB7CiAgICB2YXIgaW1nT2JqID0gbmV3IEltYWdlKCk7CiAgICB2YXIgaW1nU3JjID0gaW1nLnNyYyB8fCBpbWc7IC8vIENhbid0IHNldCBjcm9zcyBvcmlnaW4gdG8gYmUgYW5vbnltb3VzIGZvciBkYXRhIHVybCdzCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xMzA1CgogICAgaWYgKGltZ1NyYy5zdWJzdHJpbmcoMCwgNSkgIT09ICdkYXRhOicpIGltZ09iai5jcm9zc09yaWdpbiA9ICJBbm9ueW1vdXMiOwoKICAgIGltZ09iai5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dChpbWdPYmoud2lkdGgsIGltZ09iai5oZWlnaHQpOwogICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWdPYmosIDAsIDApOwogICAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1nT2JqLndpZHRoLCBpbWdPYmouaGVpZ2h0KTsKICAgICAgbG9hZGVkICYmIGxvYWRlZChpbWFnZURhdGEuZGF0YSk7CiAgICB9OwoKICAgIGltZ09iai5zcmMgPSBpbWdTcmM7CiAgfTsKCiAgdmFyIG1ha2VSR0IgPSBmdW5jdGlvbiBtYWtlUkdCKG5hbWUpIHsKICAgIHJldHVybiBbJ3JnYignLCBuYW1lLCAnKSddLmpvaW4oJycpOwogIH07CgogIHZhciBtYXBQYWxldHRlID0gZnVuY3Rpb24gbWFwUGFsZXR0ZShwYWxldHRlKSB7CiAgICB2YXIgYXJyID0gW107CgogICAgZm9yICh2YXIgcHJvcCBpbiBwYWxldHRlKSB7CiAgICAgIGFyci5wdXNoKGZybXRQb2JqKHByb3AsIHBhbGV0dGVbcHJvcF0pKTsKICAgIH0KCiAgICA7CiAgICBhcnIuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gYi5jb3VudCAtIGEuY291bnQ7CiAgICB9KTsKICAgIHJldHVybiBhcnI7CiAgfTsKCiAgdmFyIGZpdFBhbGV0dGUgPSBmdW5jdGlvbiBmaXRQYWxldHRlKGFyciwgZml0U2l6ZSkgewogICAgaWYgKGFyci5sZW5ndGggPiBmaXRTaXplKSB7CiAgICAgIHJldHVybiBhcnIuc2xpY2UoMCwgZml0U2l6ZSk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gYXJyLmxlbmd0aCAtIDE7IGkgPCBmaXRTaXplIC0gMTsgaSsrKSB7CiAgICAgICAgYXJyLnB1c2goZnJtdFBvYmooJzAsMCwwJywgMCkpOwogICAgICB9CgogICAgICA7CiAgICAgIHJldHVybiBhcnI7CiAgICB9CgogICAgOwogIH07CgogIHZhciBmcm10UG9iaiA9IGZ1bmN0aW9uIGZybXRQb2JqKGEsIGIpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IG1ha2VSR0IoYSksCiAgICAgIGNvdW50OiBiCiAgICB9OwogIH07IC8vIFJHQmFzdGVyIE9iamVjdAogIC8vIC0tLS0tLS0tLS0tLS0tLQogIC8vCgoKICB2YXIgUEFMRVRURVNJWkUgPSAxMDsKICB2YXIgUkdCYXN0ZXIgPSB7fTsKCiAgUkdCYXN0ZXIuY29sb3JzID0gZnVuY3Rpb24gKGltZywgb3B0cykgewogICAgb3B0cyA9IG9wdHMgfHwge307CiAgICB2YXIgZXhjbHVkZSA9IG9wdHMuZXhjbHVkZSB8fCBbXSwKICAgICAgICAvLyBmb3IgZXhhbXBsZSwgdG8gZXhjbHVkZSB3aGl0ZSBhbmQgYmxhY2s6ICBbICcwLDAsMCcsICcyNTUsMjU1LDI1NScgXQogICAgcGFsZXR0ZVNpemUgPSBvcHRzLnBhbGV0dGVTaXplIHx8IFBBTEVUVEVTSVpFOwogICAgZ2V0SW1hZ2VEYXRhKGltZywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIGNvbG9yQ291bnRzID0ge30sCiAgICAgICAgICByZ2JTdHJpbmcgPSAnJywKICAgICAgICAgIHJnYiA9IFtdLAogICAgICAgICAgY29sb3JzID0gewogICAgICAgIGRvbWluYW50OiB7CiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIGNvdW50OiAwCiAgICAgICAgfSwKICAgICAgICBwYWxldHRlOiBbXQogICAgICB9OwogICAgICB2YXIgaSA9IDA7CgogICAgICBmb3IgKDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHsKICAgICAgICByZ2JbMF0gPSBkYXRhW2ldOwogICAgICAgIHJnYlsxXSA9IGRhdGFbaSArIDFdOwogICAgICAgIHJnYlsyXSA9IGRhdGFbaSArIDJdOwogICAgICAgIHJnYlN0cmluZyA9IHJnYi5qb2luKCIsIik7IC8vIHNraXAgdW5kZWZpbmVkIGRhdGEgYW5kIHRyYW5zcGFyZW50IHBpeGVscwoKICAgICAgICBpZiAocmdiLmluZGV4T2YodW5kZWZpbmVkKSAhPT0gLTEgfHwgZGF0YVtpICsgM10gPT09IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gSWdub3JlIHRob3NlIGNvbG9ycyBpbiB0aGUgZXhjbHVkZSBsaXN0LgoKCiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihtYWtlUkdCKHJnYlN0cmluZykpID09PSAtMSkgewogICAgICAgICAgaWYgKHJnYlN0cmluZyBpbiBjb2xvckNvdW50cykgewogICAgICAgICAgICBjb2xvckNvdW50c1tyZ2JTdHJpbmddID0gY29sb3JDb3VudHNbcmdiU3RyaW5nXSArIDE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb2xvckNvdW50c1tyZ2JTdHJpbmddID0gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChvcHRzLnN1Y2Nlc3MpIHsKICAgICAgICB2YXIgcGFsZXR0ZSA9IGZpdFBhbGV0dGUobWFwUGFsZXR0ZShjb2xvckNvdW50cyksIHBhbGV0dGVTaXplICsgMSk7CiAgICAgICAgb3B0cy5zdWNjZXNzKHsKICAgICAgICAgIGRvbWluYW50OiBwYWxldHRlWzBdLm5hbWUsCiAgICAgICAgICBzZWNvbmRhcnk6IHBhbGV0dGVbMV0ubmFtZSwKICAgICAgICAgIHBhbGV0dGU6IHBhbGV0dGUubWFwKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgIHJldHVybiBjLm5hbWU7CiAgICAgICAgICB9KS5zbGljZSgxKQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9OwoKICB3aW5kb3cuUkdCYXN0ZXIgPSB3aW5kb3cuUkdCYXN0ZXIgfHwgUkdCYXN0ZXI7Cn0pKHdpbmRvdyk7"},{"version":3,"sources":["F:/zhihu-app/src/util/rgbaster.js"],"names":["window","undefined","getContext","width","height","canvas","document","createElement","setAttribute","getImageData","img","loaded","imgObj","Image","imgSrc","src","substring","crossOrigin","onload","context","drawImage","imageData","data","makeRGB","name","join","mapPalette","palette","arr","prop","push","frmtPobj","sort","a","b","count","fitPalette","fitSize","length","slice","i","PALETTESIZE","RGBaster","colors","opts","exclude","paletteSize","colorCounts","rgbString","rgb","dominant","indexOf","success","secondary","map","c"],"mappings":"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","sourcesContent":[";\r\n(function(window, undefined) {\r\n\r\n\t\"use strict\";\r\n\r\n\t// Helper functions.\r\n\tvar getContext = function(width, height) {\r\n\t\tvar canvas = document.createElement(\"canvas\");\r\n\t\tcanvas.setAttribute('width', width);\r\n\t\tcanvas.setAttribute('height', height);\r\n\t\treturn canvas.getContext('2d');\r\n\t};\r\n\r\n\tvar getImageData = function(img, loaded) {\r\n\r\n\t\tvar imgObj = new Image();\r\n\t\tvar imgSrc = img.src || img;\r\n\r\n\t\t// Can't set cross origin to be anonymous for data url's\r\n\t\t// https://github.com/mrdoob/three.js/issues/1305\r\n\t\tif (imgSrc.substring(0, 5) !== 'data:')\r\n\t\t\timgObj.crossOrigin = \"Anonymous\";\r\n\r\n\t\timgObj.onload = function() {\r\n\t\t\tvar context = getContext(imgObj.width, imgObj.height);\r\n\t\t\tcontext.drawImage(imgObj, 0, 0);\r\n\r\n\t\t\tvar imageData = context.getImageData(0, 0, imgObj.width, imgObj.height);\r\n\t\t\tloaded && loaded(imageData.data);\r\n\t\t};\r\n\r\n\t\timgObj.src = imgSrc;\r\n\r\n\t};\r\n\r\n\tvar makeRGB = function(name) {\r\n\t\treturn ['rgb(', name, ')'].join('');\r\n\t};\r\n\r\n\tvar mapPalette = function(palette) {\r\n\t\tvar arr = [];\r\n\t\tfor (var prop in palette) {\r\n\t\t\tarr.push(frmtPobj(prop, palette[prop]))\r\n\t\t};\r\n\t\tarr.sort(function(a, b) {\r\n\t\t\treturn (b.count - a.count)\r\n\t\t});\r\n\t\treturn arr;\r\n\t};\r\n\r\n\tvar fitPalette = function(arr, fitSize) {\r\n\t\tif (arr.length > fitSize) {\r\n\t\t\treturn arr.slice(0, fitSize);\r\n\t\t} else {\r\n\t\t\tfor (var i = arr.length - 1; i < fitSize - 1; i++) {\r\n\t\t\t\tarr.push(frmtPobj('0,0,0', 0))\r\n\t\t\t};\r\n\t\t\treturn arr;\r\n\t\t};\r\n\t};\r\n\r\n\tvar frmtPobj = function(a, b) {\r\n\t\treturn {\r\n\t\t\tname: makeRGB(a),\r\n\t\t\tcount: b\r\n\t\t};\r\n\t}\r\n\r\n\r\n\t// RGBaster Object\r\n\t// ---------------\r\n\t//\r\n\tvar PALETTESIZE = 10;\r\n\r\n\tvar RGBaster = {};\r\n\r\n\tRGBaster.colors = function(img, opts) {\r\n\r\n\t\topts = opts || {};\r\n\t\tvar exclude = opts.exclude || [], // for example, to exclude white and black:  [ '0,0,0', '255,255,255' ]\r\n\t\t\tpaletteSize = opts.paletteSize || PALETTESIZE;\r\n\r\n\t\tgetImageData(img, function(data) {\r\n\r\n\t\t\tvar colorCounts = {},\r\n\t\t\t\trgbString = '',\r\n\t\t\t\trgb = [],\r\n\t\t\t\tcolors = {\r\n\t\t\t\t\tdominant: {\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tcount: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpalette: []\r\n\t\t\t\t};\r\n\r\n\t\t\tvar i = 0;\r\n\t\t\tfor (; i < data.length; i += 4) {\r\n\t\t\t\trgb[0] = data[i];\r\n\t\t\t\trgb[1] = data[i + 1];\r\n\t\t\t\trgb[2] = data[i + 2];\r\n\t\t\t\trgbString = rgb.join(\",\");\r\n\r\n\t\t\t\t// skip undefined data and transparent pixels\r\n\t\t\t\tif (rgb.indexOf(undefined) !== -1 || data[i + 3] === 0) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Ignore those colors in the exclude list.\r\n\t\t\t\tif (exclude.indexOf(makeRGB(rgbString)) === -1) {\r\n\t\t\t\t\tif (rgbString in colorCounts) {\r\n\t\t\t\t\t\tcolorCounts[rgbString] = colorCounts[rgbString] + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcolorCounts[rgbString] = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.success) {\r\n\t\t\t\tvar palette = fitPalette(mapPalette(colorCounts), paletteSize + 1);\r\n\t\t\t\topts.success({\r\n\t\t\t\t\tdominant: palette[0].name,\r\n\t\t\t\t\tsecondary: palette[1].name,\r\n\t\t\t\t\tpalette: palette.map(function(c) {\r\n\t\t\t\t\t\treturn c.name;\r\n\t\t\t\t\t}).slice(1)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\twindow.RGBaster = window.RGBaster || RGBaster;\r\n\r\n})(window);\n"]}]}